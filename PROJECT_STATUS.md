# üìä –¢–ï–ö–£–©–û –°–™–°–¢–û–Ø–ù–ò–ï –ù–ê –ü–†–û–ï–ö–¢–ê - RODOPI DENT

> **–ü–æ—Å–ª–µ–¥–Ω–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è:** 27 —è–Ω—É–∞—Ä–∏ 2026 (–≤–µ—á–µ—Ä)  
> **–í–µ—Ä—Å–∏—è:** 3.2

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### Frontend (PWA)
- **–•–æ—Å—Ç–∏–Ω–≥:** GitHub Pages
- **URL:** https://georgi-piskov.github.io/RODOPI-DENT/
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Vanilla JS, CSS, HTML (–±–µ–∑ frameworks)
- **–†—É—Ç–∏—Ä–∞–Ω–µ:** Hash-based (#/booking, #/admin/calendar, etc.)
- **Cache –≤–µ—Ä—Å–∏—è:** v=3.2

### Backend (n8n)
- **URL:** https://n8n.simeontsvetanovn8nworkflows.site
- **Webhooks –±–∞–∑–∞:** /webhook/{endpoint-name}
- **–í–µ—Ä—Å–∏—è n8n:** 2.0.2+

### –î–∞–Ω–Ω–∏
- **–û—Å–Ω–æ–≤–Ω–∞ –±–∞–∑–∞:** Google Calendar (rodopi.dent@gmail.com)
- **–î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–æ:** Google Sheets –∑–∞ —Ñ–∏–Ω–∞–Ω—Å–∏, –ù–ó–û–ö —Ü–µ–Ω–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **Sheet ID:** 1hv4XAfHhScA40Bm1kQ3I-Ih4SJuCBpOJxTOYDNb167g

### –ò–∑–≤–µ—Å—Ç–∏—è
- **SMS:** Twilio (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω –≤ n8n)
- **Telegram:** Bot –∑–∞ –∏–∑–≤–µ—Å—Ç–∏—è –∫—ä–º –¥–æ–∫—Ç–æ—Ä–∞ (Ro–¥–æ–ø–∏–î–µ–Ω—ÇBot)
- **Telegram Admin Chat ID:** 2146283697

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ù–ê –§–ê–ô–õ–û–í–ï–¢–ï

```
RODOPI-DENT-system/
‚îú‚îÄ‚îÄ index.html                    # –û—Å–Ω–æ–≤–µ–Ω HTML (v=3.2)
‚îú‚îÄ‚îÄ manifest.json                 # PWA manifest
‚îú‚îÄ‚îÄ sw.js                         # Service Worker
‚îÇ
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ main.css                  # –í—Å–∏—á–∫–∏ —Å—Ç–∏–ª–æ–≤–µ (v=3.0)
‚îÇ
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ config.js                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ endpoints (v=2.8)
‚îÇ   ‚îú‚îÄ‚îÄ utils.js                  # –ü–æ–º–æ—â–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (v=2.7)
‚îÇ   ‚îú‚îÄ‚îÄ api.js                    # API –∫–ª–∏–µ–Ω—Ç —Å Twilio SMS (v=2.8)
‚îÇ   ‚îú‚îÄ‚îÄ auth.js                   # Google OAuth2 (v=2.7)
‚îÇ   ‚îú‚îÄ‚îÄ router.js                 # Hash —Ä—É—Ç–∏—Ä–∞–Ω–µ (v=2.7)
‚îÇ   ‚îú‚îÄ‚îÄ calendar.js               # –ê–¥–º–∏–Ω –∫–∞–ª–µ–Ω–¥–∞—Ä + pending (v=3.2)
‚îÇ   ‚îî‚îÄ‚îÄ app.js                    # –û—Å–Ω–æ–≤–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (v=2.8)
‚îÇ
‚îú‚îÄ‚îÄ n8n-workflows/
‚îÇ   ‚îú‚îÄ‚îÄ 01-slots-webhook.json     # –°–≤–æ–±–æ–¥–Ω–∏ —á–∞—Å–æ–≤–µ
‚îÇ   ‚îú‚îÄ‚îÄ 02-booking-webhook.json   # –ù–æ–≤–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è + Twilio SMS
‚îÇ   ‚îú‚îÄ‚îÄ 10-telegram-callback.json # Telegram –±—É—Ç–æ–Ω–∏ ‚Üí Calendar ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ 11-calendar-events.json   # –ó–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ —Å—ä–±–∏—Ç–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ 12-calendar-create.json   # –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Å—ä–±–∏—Ç–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ 13-calendar-update.json   # –û–±–Ω–æ–≤—è–≤–∞–Ω–µ –Ω–∞ —Å—ä–±–∏—Ç–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ 14-calendar-delete.json   # –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ —Å—ä–±–∏—Ç–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ 15-public-slots.json      # –ü—É–±–ª–∏—á–Ω–∏ —Å–≤–æ–±–æ–¥–Ω–∏ —á–∞—Å–æ–≤–µ
‚îÇ   ‚îú‚îÄ‚îÄ 16-public-booking.json    # –ü—É–±–ª–∏—á–Ω–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è + Telegram ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ 17-send-sms.json          # SMS –∏–∑–ø—Ä–∞—â–∞–Ω–µ —Å Twilio
‚îÇ   ‚îî‚îÄ‚îÄ 18-auto-expire-pending.json # –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑—Ç–∏—á–∞–Ω–µ
‚îÇ
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ logo.png
‚îÇ   ‚îî‚îÄ‚îÄ icons/
‚îÇ
‚îî‚îÄ‚îÄ docs/
    ‚îú‚îÄ‚îÄ google-sheets-setup.js
    ‚îî‚îÄ‚îÄ import-nhif-prices.js
```

---

## üîó API ENDPOINTS

### –ü—É–±–ª–∏—á–Ω–∏ (–∑–∞ –ø–∞—Ü–∏–µ–Ω—Ç–∏)
| Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `/public-slots` | –°–≤–æ–±–æ–¥–Ω–∏ —á–∞—Å–æ–≤–µ –∑–∞ –¥–∞—Ç–∞ |
| `/public-booking` | –ù–æ–≤–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è |

### –ê–¥–º–∏–Ω (Google Calendar)
| Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `/calendar-events` | –°–ø–∏—Å—ä–∫ —Å—ä–±–∏—Ç–∏—è |
| `/calendar-create` | –ù–æ–≤ —á–∞—Å |
| `/calendar-update` | –†–µ–¥–∞–∫—Ü–∏—è –Ω–∞ —á–∞—Å |
| `/calendar-delete` | –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ —á–∞—Å |

### SMS
| Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `/send-sms` | –ò–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ SMS —Å Twilio |

### Telegram
| Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `/telegram-callback` | –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ inline –±—É—Ç–æ–Ω–∏ |

---

## üìÖ –°–ò–°–¢–ï–ú–ê –ó–ê –ß–ê–°–û–í–ï

### –°—Ç–∞—Ç—É—Å–∏ –Ω–∞ —Å—ä–±–∏—Ç–∏—è
| –°—Ç–∞—Ç—É—Å | –ò–∫–æ–Ω–∞ | –¶–≤—è—Ç –≤ Calendar | ColorId |
|--------|-------|-----------------|---------|
| –ß–∞–∫–∞—â (pending) | ‚è≥ | –ñ—ä–ª—Ç | 5 |
| –ü–æ—Ç–≤—ä—Ä–¥–µ–Ω (confirmed) | ‚úÖ | –ó–µ–ª–µ–Ω | 10 |
| –ó–∞ –æ–±–∞–∂–¥–∞–Ω–µ (callback) | üîî | –û—Ä–∞–Ω–∂–µ–≤ | 6 |
| –ó–∞–≤—ä—Ä—à–µ–Ω (completed) | üîµ | –°–∏–Ω | 9 |
| –û—Ç–º–µ–Ω–µ–Ω (cancelled) | üî¥ | –ß–µ—Ä–≤–µ–Ω | 11 |

### –†–∞–±–æ—Ç–Ω–æ –≤—Ä–µ–º–µ
- **–°—É—Ç—Ä–∏–Ω:** 09:00 - 12:00
- **–°–ª–µ–¥–æ–±–µ–¥:** 13:30 - 17:30
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª:** 30 –º–∏–Ω—É—Ç–∏
- **–†–∞–±–æ—Ç–Ω–∏ –¥–Ω–∏:** –ü–æ–Ω–µ–¥–µ–ª–Ω–∏–∫ - –ü–µ—Ç—ä–∫

### –ü—Ä–æ—Ü–µ—Å –Ω–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è
1. –ü–∞—Ü–∏–µ–Ω—Ç –∏–∑–±–∏—Ä–∞ –¥–∞—Ç–∞ –∏ —á–∞—Å –æ—Ç –ø—É–±–ª–∏—á–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
2. –í—ä–≤–µ–∂–¥–∞ –∏–º–µ, —Ç–µ–ª–µ—Ñ–æ–Ω, –ø—Ä–∏—á–∏–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ)
3. –ü–æ–ª—É—á–∞–≤–∞ confirmation —Å—Ç—Ä–∞–Ω–∏—Ü–∞
4. –î–æ–∫—Ç–æ—Ä–∫–∞—Ç–∞ –ø–æ–ª—É—á–∞–≤–∞ Telegram –∏–∑–≤–µ—Å—Ç–∏–µ —Å –±—É—Ç–æ–Ω–∏ –∑–∞ –ø—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç
5. –ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–µ ‚Üí SMS –¥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞
6. –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç ‚Üí –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∞
7. –ü—Ä–∏ –∏–∑—Ç–∏—á–∞–Ω–µ (18:00 deadline) ‚Üí SMS –∑–∞ –æ—Ç–∫–∞–∑

---

## üîî SMS –ò–ó–í–ï–°–¢–ò–Ø (Twilio)

### Templates –≤ workflow 17
| Template | –ö–æ–≥–∞ —Å–µ –∏–∑–ø—Ä–∞—â–∞ |
|----------|----------------|
| `booking_received` | –ü—Ä–∏ –ø–æ–¥–∞–≤–∞–Ω–µ –Ω–∞ –∑–∞—è–≤–∫–∞ |
| `booking_confirmed` | –ü—Ä–∏ –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç –¥–æ–∫—Ç–æ—Ä |
| `booking_rejected` | –ü—Ä–∏ —Ä—ä—á–µ–Ω –æ—Ç–∫–∞–∑ |
| `booking_conflict` | –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å –¥—Ä—É–≥ —á–∞—Å |
| `booking_expired` | –ü—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑—Ç–∏—á–∞–Ω–µ |
| `reminder` | –ù–∞–ø–æ–º–Ω—è–Ω–µ (–¥–µ–Ω –ø—Ä–µ–¥–∏) |

---

## ‚ö†Ô∏è –î–ï–¢–ï–ö–¶–ò–Ø –ù–ê –ö–û–ù–§–õ–ò–ö–¢–ò

### –õ–æ–≥–∏–∫–∞ (–≤ calendar.js)
```javascript
checkForConflicts(date, startTime, endTime, excludeEventId)
```
- –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –≤—Å–∏—á–∫–∏ —Å—ä–±–∏—Ç–∏—è –∑–∞ –¥–∞–¥–µ–Ω–∞ –¥–∞—Ç–∞
- –í–∫–ª—é—á–≤–∞ –ø–æ—Ç–≤—ä—Ä–¥–µ–Ω–∏ –ò —á–∞–∫–∞—â–∏ —Å—ä–±–∏—Ç–∏—è
- –ü–æ–∫–∞–∑–≤–∞ ‚ö†Ô∏è –Ω–∞ –±—É—Ç–æ–Ω–∏—Ç–µ —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç
- –ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–µ ‚Üí dialog –∑–∞ —Ä–∞–∑—Ä–µ—à–∞–≤–∞–Ω–µ

### UI –∏–Ω–¥–∏–∫–∞—Ü–∏—è
- –ö–∞—Ä—Ç–∏—á–∫–∏—Ç–µ —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–∞—Ç –∂—ä–ª—Ç–∞ —Ä–∞–º–∫–∞
- –ë—É—Ç–æ–Ω–∏—Ç–µ —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å–∞ –æ—Ä–∞–Ω–∂–µ–≤–∏ –∏ –ø—É–ª—Å–∏—Ä–∞—Ç
- –ü–æ–∫–∞–∑–≤–∞ —Å–µ —Å–ø–∏—Å—ä–∫ –Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∏—Ä–∞—â–∏—Ç–µ —á–∞—Å–æ–≤–µ

---

## ‚è∞ –ê–í–¢–û–ú–ê–¢–ò–ß–ù–û –ò–ó–¢–ò–ß–ê–ù–ï (Workflow 18)

### –ü—Ä–∞–≤–∏–ª–∞
1. **–°—ä—â–∏—è—Ç –¥–µ–Ω:** –ò–∑—Ç–∏—á–∞ –≤ 18:00 –∞–∫–æ –Ω–µ –µ –æ–¥–æ–±—Ä–µ–Ω
2. **–°–ª–µ–¥–≤–∞—â –¥–µ–Ω:** –ò–∑—Ç–∏—á–∞ –≤ 18:00 –Ω–∞ –¥–µ–Ω—è –ø—Ä–µ–¥–∏ —á–∞—Å–∞
3. **–ú–∏–Ω–∞–ª–∏ —á–∞—Å–æ–≤–µ:** –ò–∑—Ç—Ä–∏–≤–∞—Ç —Å–µ –≤–µ–¥–Ω–∞–≥–∞
4. **–ü—Ä–∏ –∏–∑—Ç–∏—á–∞–Ω–µ:** SMS –¥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞ + Telegram –¥–æ –∞–¥–º–∏–Ω

### –ò–∑–ø—ä–ª–Ω–µ–Ω–∏–µ
- Scheduled: –í—Å–µ–∫–∏ —á–∞—Å
- Timezone: Europe/Sofia

---

## üñ•Ô∏è ADMIN –ü–ê–ù–ï–õ –§–£–ù–ö–¶–ò–û–ù–ê–õ–ù–û–°–¢–ò

### –ö–∞–ª–µ–Ω–¥–∞—Ä (/admin/calendar)
- [x] –°–µ–¥–º–∏—á–µ–Ω –∏–∑–≥–ª–µ–¥
- [x] –î–Ω–µ–≤–µ–Ω –∏–∑–≥–ª–µ–¥
- [x] –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –Ω–æ–≤ —á–∞—Å
- [x] –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â
- [x] Drag & drop –ø—Ä–µ–º–µ—Å—Ç–≤–∞–Ω–µ
- [x] –¶–≤–µ—Ç–æ–≤–æ –∫–æ–¥–∏—Ä–∞–Ω–µ –ø–æ —Å—Ç–∞—Ç—É—Å
- [x] **–°–µ–∫—Ü–∏—è "–ß–∞–∫–∞—â–∏ –∑–∞—è–≤–∫–∏"** —Å –±—ä—Ä–∑–∏ –±—É—Ç–æ–Ω–∏ 30–º/60–º
- [x] –î–µ—Ç–µ–∫—Ü–∏—è –∏ –ø–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∏

### Dashboard (/admin/dashboard)
- [x] –î–Ω–µ—à–Ω–∏ –∑–∞–ø–∏—Å–∏
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (TODO)

### –§–∏–Ω–∞–Ω—Å–∏ (/admin/finance)
- [x] –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –ø—Ä–∏—Ö–æ–¥
- [x] –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –ø–µ—Ä–∏–æ–¥
- [x] –ù–ó–û–ö —Ü–µ–Ω–æ—Ä–∞–∑–ø–∏—Å
- [ ] –ï–∫—Å–ø–æ—Ä—Ç CSV (TODO)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (/admin/settings)
- [x] –†–∞–±–æ—Ç–Ω–æ –≤—Ä–µ–º–µ
- [x] Twilio –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [ ] –°–ø–µ—Ü–∏–∞–ª–Ω–∏ –¥–∞—Ç–∏ (TODO)

---

## üì± TELEGRAM –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

### Workflow 16 (Public Booking)
–ü—Ä–∏ –Ω–æ–≤–∞ –∑–∞—è–≤–∫–∞ –∏–∑–ø—Ä–∞—â–∞:
```
ü¶∑ –ù–æ–≤–∞ –∑–∞—è–≤–∫–∞ –∑–∞ —á–∞—Å

üë§ –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤
üì± 0888123456
üìÖ 27.01.2026 –≤ 10:30
üìã –ü—Ä–µ–≥–ª–µ–¥
üïê –°–≤–æ–±–æ–¥–Ω–æ –≤—Ä–µ–º–µ: 60 –º–∏–Ω

[30 –º–∏–Ω] [60 –º–∏–Ω]
[üìû –ó–∞ –æ–±–∞–∂–¥–∞–Ω–µ] [‚ùå –û—Ç–∫–∞–∂–∏]
```

**–ë—É—Ç–æ–Ω–∏—Ç–µ —Å–∞ –¥–∏–Ω–∞–º–∏—á–Ω–∏** - –ø–æ–∫–∞–∑–≤–∞—Ç —Å–µ —Å–∞–º–æ –æ–ø—Ü–∏–∏ –∫–æ–∏—Ç–æ —Å–µ —Å—ä–±–∏—Ä–∞—Ç –≤ —Å–≤–æ–±–æ–¥–Ω–æ—Ç–æ –≤—Ä–µ–º–µ.

### Workflow 10 (Telegram Callback) ‚úÖ –†–ê–ë–û–¢–ò
–û–±—Ä–∞–±–æ—Ç–≤–∞ callback –æ—Ç –±—É—Ç–æ–Ω–∏—Ç–µ:
- `confirm_30_EVENT_ID` ‚Üí –ü–æ—Ç–≤—ä—Ä–∂–¥–∞–≤–∞ —Å 30 –º–∏–Ω, –æ–±–Ω–æ–≤—è–≤–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–∞
- `confirm_60_EVENT_ID` ‚Üí –ü–æ—Ç–≤—ä—Ä–∂–¥–∞–≤–∞ —Å 60 –º–∏–Ω, –æ–±–Ω–æ–≤—è–≤–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–∞
- `callback_EVENT_ID` ‚Üí –ú–∞—Ä–∫–∏—Ä–∞ –∑–∞ –æ–±–∞–∂–¥–∞–Ω–µ (üîî –æ—Ä–∞–Ω–∂–µ–≤ —Ü–≤—è—Ç)
- `cancel_EVENT_ID` ‚Üí –ò–∑—Ç—Ä–∏–≤–∞ —á–∞—Å–∞ –æ—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä–∞

**Event ID —Ñ–æ—Ä–º–∞—Ç:** Google Calendar ID (–Ω–∞–ø—Ä. `76qpm9l2u4cuel0o4kpuaj6r8`)

### Telegram Bot
- **–ò–º–µ:** Ro–¥–æ–ø–∏–î–µ–Ω—ÇBot
- **Admin Chat ID:** 2146283697
- **Webhook URL:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω –≤ n8n

---

## üîß –ò–ó–í–ï–°–¢–ù–ò –ü–†–û–ë–õ–ï–ú–ò / TODO

### –†–µ—à–µ–Ω–∏ —Ç–∞–∑–∏ —Å–µ—Å–∏—è ‚úÖ
- [x] Telegram callback –±—É—Ç–æ–Ω–∏ —Ä–∞–±–æ—Ç—è—Ç
- [x] –î–∏–Ω–∞–º–∏—á–Ω–∏ –±—É—Ç–æ–Ω–∏ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∞ (30–º/60–º –±–∞–∑–∏—Ä–∞–Ω–∏ –Ω–∞ —Å–≤–æ–±–æ–¥–Ω–æ –≤—Ä–µ–º–µ)
- [x] maxAvailableMinutes –∏–∑—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ–ø—Ä–∞–≤–µ–Ω–æ
- [x] Timezone parsing –≤ workflow 16
- [x] Get Calendar Event –∏–∑–ø–æ–ª–∑–≤–∞ –¥–∏—Ä–µ–∫—Ç–µ–Ω ID lookup

### –ë—ä–¥–µ—â–∏ –ø–æ–¥–æ–±—Ä–µ–Ω–∏—è
- [ ] **–ö–∞–Ω–∞–ª–∏ –∑–∞ –∏–∑–≤–µ—Å—Ç–∏—è** - Telegram/WhatsApp –ø—Ä–µ–¥–∏ SMS –∑–∞ –ø–µ—Å—Ç–µ–Ω–µ –Ω–∞ —Ä–∞–∑—Ö–æ–¥–∏
- [ ] SMS –Ω–∞–ø–æ–º–Ω—è–Ω–µ –¥–µ–Ω –ø—Ä–µ–¥–∏ —á–∞—Å–∞
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ Dashboard
- [ ] –ï–∫—Å–ø–æ—Ä—Ç –Ω–∞ —Ñ–∏–Ω–∞–Ω—Å–∏ –∫—ä–º CSV
- [ ] –°–ø–µ—Ü–∏–∞–ª–Ω–∏ –¥–∞—Ç–∏ (–ø–æ—á–∏–≤–Ω–∏ –¥–Ω–∏)
- [ ] –ü—ä–ª–Ω–∞ PWA offline –ø–æ–¥–¥—Ä—ä–∂–∫–∞

### –ò–¥–µ—è: Multi-channel –∏–∑–≤–µ—Å—Ç–∏—è
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–¥–∏ SMS: Telegram ‚Üí WhatsApp ‚Üí SMS (fallback)
- –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –ø–æ–ª–µ –∑–∞ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω –∫–∞–Ω–∞–ª –≤—ä–≤ —Ñ–æ—Ä–º–∞—Ç–∞
- –ë–∞–∑–∞ —Å Telegram –∫–æ–Ω—Ç–∞–∫—Ç–∏ (phone ‚Üí chat_id)

---

## üìú –ò–°–¢–û–†–ò–Ø –ù–ê –ü–†–û–ú–ï–ù–ò–¢–ï (—Ç–∞–∑–∏ —Å–µ—Å–∏—è)

### 27.01.2026 (–≤–µ—á–µ—Ä)
1. **Workflow 16 Fix** - –ü–æ–ø—Ä–∞–≤–µ–Ω timezone parsing –∑–∞ maxAvailableMinutes
2. **Workflow 10 Fix** - Telegram callback –±—É—Ç–æ–Ω–∏ –≤–µ—á–µ —Ä–∞–±–æ—Ç—è—Ç:
   - –ü–æ–ø—Ä–∞–≤–µ–Ω–∏ IF node connections (true/false –ø—ä—Ç–∏—â–∞)
   - –°–º–µ–Ω–µ–Ω –æ—Ç GetAll –Ω–∞ Get –∑–∞ –¥–∏—Ä–µ–∫—Ç–µ–Ω ID lookup
   - –î–æ–±–∞–≤–µ–Ω–∞ callback action (üîî –ó–∞ –æ–±–∞–∂–¥–∞–Ω–µ)
3. **Admin Panel Fix** - –î–∏–Ω–∞–º–∏—á–Ω–∏ –±—É—Ç–æ–Ω–∏ –∑–∞ –ø—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç:
   - –ü–æ–ø—Ä–∞–≤–µ–Ω —Ä–µ–¥ –Ω–∞ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ (loadEvents ‚Üí updatePendingRequestsSection)
   - –î–æ–±–∞–≤–µ–Ω allFutureEvents –∑–∞ conflict detection
   - –ë—É—Ç–æ–Ω–∏—Ç–µ –ø–æ–∫–∞–∑–≤–∞—Ç —Å–∞–º–æ –≤–∞–ª–∏–¥–Ω–∏ –æ–ø—Ü–∏–∏ (30–º –∞–∫–æ –∏–º–∞ 30 –º–∏–Ω —Å–≤–æ–±–æ–¥–Ω–æ)
4. **Calendar.js v3.2** - Debug logging –∑–∞ maxAvailableMinutes (–º–æ–∂–µ –¥–∞ —Å–µ –ø—Ä–µ–º–∞—Ö–Ω–µ)

### 27.01.2026 (—Å—É—Ç—Ä–∏–Ω)
1. **Confirmation —Å—Ç—Ä–∞–Ω–∏—Ü–∞** - –∫—Ä–∞—Å–∏–≤–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ª–µ–¥ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ redirect
2. **–î–µ—Ç–µ–∫—Ü–∏—è –Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–µ —Å —Ä–∞–∑–ª–∏—á–Ω–∏ –ø—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç–∏
3. **SMS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - Twilio templates –∑–∞ –≤—Å–∏—á–∫–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑—Ç–∏—á–∞–Ω–µ** - Workflow 18 —Å –ø—Ä–∞–≤–∏–ª–∞ –∑–∞ 18:00 deadline
5. **UI –∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∏** - –∂—ä–ª—Ç–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ –∏ –ø—É–ª—Å–∏—Ä–∞—â–∏ –±—É—Ç–æ–Ω–∏
6. **Fix: Calendar update** - description –≤–µ—á–µ —Å–µ –∏–∑–ø—Ä–∞—â–∞ –ø—Ä–∞–≤–∏–ª–Ω–æ
7. **Fix: Patient name** - –ø—Ä–µ–º–∞—Ö–≤–∞—Ç —Å–µ –≤—Å–∏—á–∫–∏ ‚è≥/‚úÖ –ø—Ä–µ—Ñ–∏–∫—Å–∏

---

## üîë CREDENTIALS (–¥–∞ —Å–µ –ø–æ–ø—ä–ª–Ω—è—Ç –≤ n8n)

```
Google Calendar OAuth2:
- Client ID: (–æ—Ç Google Cloud Console)
- Client Secret: (–æ—Ç Google Cloud Console)
- Calendar ID: rodopi.dent@gmail.com

Twilio:
- Account SID: (–æ—Ç Twilio Console)
- Auth Token: (–æ—Ç Twilio Console)
- From Number: (Twilio phone number)

Telegram:
- Bot Token: (–æ—Ç @BotFather)
- Admin Chat ID: (–æ—Ç @userinfobot)
```

---

## üìû –ö–û–ù–¢–ê–ö–¢–ò –ó–ê –ü–û–î–î–†–™–ñ–ö–ê

- **GitHub Repo:** https://github.com/Georgi-Piskov/RODOPI-DENT
- **n8n Instance:** https://n8n.simeontsvetanovn8nworkflows.site

